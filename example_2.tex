\RequirePackage{luatex85}
\documentclass[tikz]{standalone}
\usepackage{luatextra}

\begin{document}

\begin{tikzpicture}
  \tikzstyle{tensornode}=[draw,minimum size=1, fill=green, rounded corners=0.1cm]

  \begin{luacode}
     local mpt = require('mptikz')
     local properties = {tensor_name='A', tensor_style='tensornode', len_vertical_legs=1}
     mpt.draw_node({N=1}, properties)
  \end{luacode}

  \node at (A) {$A$};
  \node [anchor=west] at (A_N1) {$i$};
\end{tikzpicture}

\end{document}
