\RequirePackage{luatex85}
\documentclass[tikz]{standalone}
\usepackage{mptikz}
\begin{document}

\begin{tikzpicture}
  \begin{luacode}
    local style = 'draw, fill=orange, rounded corners=0.1cm'
    mptikz.defaults['len_vertical_legs'] = 0.25
    mptikz.defaults['tensor_style'] = style

    -- Draw MPA manually
    mptikz.draw_tensor({S=1, W=0, E=1, x=0})
    mptikz.draw_tensor({S=1, W=1, E=1, x=1.5})
    mptikz.draw_tensor({S=1, W=1, E=0, x=3.0})

    -- Draw MPA using appropriate function
    mptikz.defaults['tensor_style'] = style .. ', fill=green'
    mptikz.draw_mpa(3, {N=1, y=-1.5, tensor_name='A'})
  \end{luacode}
  \node at (A_2) {$A$};
\end{tikzpicture}

\end{document}
