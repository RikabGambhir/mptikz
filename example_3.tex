\RequirePackage{luatex85}
\documentclass[tikz]{standalone}
\usepackage{luatextra}

\begin{document}

\begin{tikzpicture}
  \tikzstyle{tensornode}=[draw,minimum size=1, fill=orange, rounded corners=0.1cm]
  \tikzstyle{tensorleg}=[thick]

  \begin{luacode}
    mpt = require('mptikz')
    mpt.defaults['len_vertical_legs'] = 0.25
    mpt.draw_node({S=1, W=0, E=1}, {x=0})
    mpt.draw_node({S=1, W=1, E=1}, {x=1.5})
    mpt.draw_node({S=1, W=1, E=0}, {x=3.0})
  \end{luacode}

  \tikzstyle{tensornode}=[draw,minimum size=1, fill=red, rounded corners=0.1cm]
  \begin{luacode}
    mpt.draw_mpa(3, {N=2}, {y=-1.5})
  \end{luacode}
\end{tikzpicture}

\end{document}
